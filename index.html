<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
   
    <h1>Rock Paper Scissors</h1>

    <h2>Choose your tool</h2>

    <div id = "wrapper">
        <button id = "rock">Rock</button>
        <button id = "paper">Paper</button>
        <button id = "scissors">Scissors</button>
    </div>

    <script>
        
        console.log("code start");

        function getComputerChoice(){
            const num = Math.random();
            if(num < 1/3){
                return "rock";
            }
            else if(num < 2/3){
                return "paper";
            }
            else{
                return "scissors";
            }
        }

        // console.log(getComputerChoice());

        function getHumanChoice(){
            let sign = prompt("Rock, Paper or Scissors?");

            return sign.toLowerCase();
        }
        
        let humanScore = 0;
        let compScore = 0;
        
        
        

        function playRound(humanChoice, computerChoice){
        

            if(humanChoice == computerChoice){
                return "The round is a tie";
            }

            if(humanChoice == "rock"){
                if(computerChoice == "paper"){
                    compScore++;
                    return `${computerChoice} beats ${humanChoice}`;
                }
                else{
                    humanScore++;
                    return `${humanChoice} beats ${computerChoice}`;
                }
            }
            else if(humanChoice == "paper"){
                if(computerChoice == "scissors"){
                    compScore++;
                    return `${computerChoice} beats ${humanChoice}`;
                }
                else{
                    humanScore++;
                    return `${humanChoice} beats ${computerChoice}`;
                }
            }
            else{ //scissors
                if(computerChoice == "rock"){
                    compScore++;
                    return `${computerChoice} beats ${humanChoice}`;
                }
                else{
                    humanScore++;
                    return `${humanChoice} beats ${computerChoice}`;
                }
            }
        }

        
        

        wrapper.addEventListener('click', (event) => {

            event.preventDefault();
            const isButton = event.target.nodeName === 'BUTTON';
            if(isButton){
                
                const wrapper = document.getElementById("wrapper");
    
                const newDiv = document.createElement('div');
                const scores = document.createTextNode(`You : ${humanScore} | Computer : ${compScore}`);

                newDiv.appendChild(scores);

                wrapper.after(newDiv);
            
                if(humanScore < 5 && compScore < 5){
                
                    const playerChoice = event.target.id;
                    const compChoice = getComputerChoice();
                    const round = playRound(playerChoice, compChoice);

                
                }

                //finish the game.
                else{

                    const resultDiv = document.createElement('div');
                    let result = "";
                    if(humanScore > compScore){
                        result = document.createTextNode("You win!");
                    }
                    else if(compScore > humanScore){
                        result = document.createTextNode("You lose :(");
                    }
                    else{
                        result = document.createTextNode("It's a tie :|");
                    }
                    resultDiv.appendChild(result);
                    newDiv.remove();
                    wrapper.after(resultDiv);

                }
            }

        });


    
        
        

    </script>



</body>
</html>
